<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>test vod</title>
    <script src="http://cdn.bootcss.com/jquery/3.1.1/core.js"></script>
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.slim.js"></script>
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.slim.min.js"></script>
</head>

<body>
<button id="start">打开10标签页</button>
<input type="number" id="num_next" value="133"/>
<script type="text/javascript" src="http://lol.qq.com/web201310/js/herovideo.js"></script>
<script type="text/javascript" src="http://lol.qq.com/biz/hero/champion.js"></script>
<script type="text/javascript">
    function listHero() {
    var next=$("#num_next").val();
        if(next<=0){
        return;
         }
         console.log("listHero");
         console.log("next: "+next);
        var champions = LOLherojs.champion.data;
        var keys = LOLherojs.champion.keys;
        var count = 133;
        for (var item in champions) {
            if (count > next) {
                count--;
                continue;
            } else if (count > (next - 10)) {
                console.log("count："+count);
                var nameId = champions[item].id;
                console.log(nameId);
                count--;
                lookVod(nameId);
            }
        }
        $("#num_next").val(next - 10);
        console.log("count：" + count);
        count = 0;
    }

    function lookVod(nameId) {
        var vods = LOLherojs.otherthings.data;
        if (vods[nameId] != null) {
            var vodlink = vods[nameId].vodlink;
            console.log("lookVod:" + vodlink);

            window.open(vodlink);
        } else {
            console.log("lookVod: nameId is null:" + nameId);
        }

    }
    $("#start").click(listHero);



</script>
</body>

</html>
